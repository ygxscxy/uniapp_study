"use strict";const e=require("../../common/vendor.js"),i=require("../config/index.js");exports.dbRequest=function(n){return new Promise(((d,o)=>{const{url:t}=n;e.index.showLoading({title:"loading..."}),e.index.request({...n,url:i.BASE_URL+t}).then((i=>{if(400==i.data.errCode)return e.index.showModal({title:"数据加载失败...",content:i.data.errMsg,showCancel:!1}),void e.index.hideLoading();e.index.hideLoading(),d(i)})).catch((i=>{e.index.showModal({title:"数据加载失败..."}),e.index.hideLoading(),o(i)}))}))};

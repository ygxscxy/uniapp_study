"use strict";const e=require("../../common/vendor.js"),a=require("../../service/modules/classify.js"),t=require("../../service/modules/userinfo.js");if(!Array){e.resolveComponent("uni-load-more")()}Math;const l={__name:"classiylist",setup(l){const s=e.ref(""),i=e.ref([]),u=e.ref(1),o=e.ref(!0),r=e.ref(""),n=e.ref("");return e.onLoad((a=>{s.value=a.classid,e.index.setNavigationBarTitle({title:a.title}),n.value=null==a?void 0:a.type,r.value=a.title})),e.onMounted((async()=>{let l;l=n.value?await t.getUserDownloadORScore({type:n.value}):await a.getClassifyDetailList({classid:s.value,pageNum:u.value,pageSize:12}),i.value=l.data,e.index.setStorageSync("storageClassifyList",i.value),l.data.length<12&&(o.value=!1)})),e.onReachBottom((async()=>{let l;u.value++,l=n.value?await t.getUserDownloadORScore({type:n.value,pageNum:u.value,pageSize:12}):await a.getClassifyDetailList({classid:s.value,pageNum:u.value,pageSize:12}),l.data.length<12?o.value=!1:(i.value.push(...l.data),e.index.setStorageSync("storageClassifyList",i.value))})),e.onBeforeUnmount((()=>{e.index.removeStorageSync("storageClassifyList")})),e.onShareAppMessage((e=>({path:"/pages/classiylist/classiylist?classid="+s.value+"&title="+r.value,title:"dbb壁纸分类列表"}))),e.onShareTimeline((()=>({title:"dbb壁纸分类列表",imageUrl:"/static/images/xxmLogo.png",query:"classid="+s.value+"&title="+r.value}))),(a,t)=>e.e({a:!i.value.length&&o.value},!i.value.length&&o.value?{b:e.p({status:"loading"})}:{},{c:e.f(i.value,((e,a,t)=>({a:e.smallPicurl,b:"/pages/preview/preview?id="+e._id+"&title="+r.value,c:e._id}))),d:!o.value},(o.value,{}))}},s=e._export_sfc(l,[["__scopeId","data-v-15dce95f"]]);l.__runtimeHooks=6,wx.createPage(s);
